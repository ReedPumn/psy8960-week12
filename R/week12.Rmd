---
title: "PSY 8960: Week 12 Project"
author: "Reed Priest"
date: "`r Sys.Date()`"
output:
  html_document:
    df_print: paged
---

## Script Settings and Resources

```{r Set wd and load packages}
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
library(tidyverse)
library(jsonlite)
library(rvest)
library(tm)
library(qdap)
library(textstem)
```
Come back to this later when I figure out how to download a year's worth of data.
## Data Import and Cleaning
```{r}
download <- fromJSON("https://www.reddit.com/r/IOPsychology/top.json?t=year", flatten = TRUE)
week12_tbl <- as_tibble(download$data$children) %>%
  select(title = data.title, upvotes = data.score)
```

Add the stop words specific to i-o when I have a full dataset.
```{r Corpus setup}
io_corpus_original <- VCorpus(VectorSource(week12_tbl$title))
io_corpus_trimmed <- io_corpus_original %>%
  tm_map(content_transformer(replace_abbreviation)) %>%
  tm_map(content_transformer(replace_contraction)) %>%
  tm_map(content_transformer(str_to_lower)) %>%
  tm_map(removeNumbers) %>%
  tm_map(removePunctuation) %>%
  tm_map(removeWords, stopwords("en")) %>%
  tm_map(stripWhitespace) %>%
  tm_map(content_transformer(lemmatize_words))
```